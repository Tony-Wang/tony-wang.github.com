title: 代码评审清单 
date: 2015-12-10 09:51:17
tags:
    - code
    - review
    - 实践
---
![image](/image/checklist.jpg)
# 一个典型的代码评审清单
这是一个小级别的检查清单，可以用在结对和类级别的代码评审上。

## 一般检查

* 代码是否可以工作？它所要实现的功能是否实现了？逻辑是否正确？
* 是不是所有的代码都很容易理解？
* 是不是符合你所认同的编码规范？括号，变量、函数的名字，行长量，缩进，格式和注释。
* 是不是有重复或多余的代码？
* 是不是已经尽可能的模块化了？
* 是不是所有的全局变量都必须存在？
* 还有被注释掉的代码吗？
* 循环是不是有确定的次数和正确的退出条件？
* 有没有可以被库函数代替的代码？
* 有没有可以被移除的日志和调试代码？

## 安全性检查

* 是不是所有的输入数据都进行了检查（包括类型、长度、格式、范围)和编码？
* 当使用第三方工具时，有没有处理它返回的错误情况？
* 所有输出的值有没有被检查和编码？
* 有没有处理无效值？

## 文档

* 是不是存在对代码意图的描述？
* 是不是所有的功能都被注释了？
* 是不是所有不常见的情况和边界条件都被描述了？
* 是不是描述了第三方库的使用情况和功能？
* 数据结构和单位是不是被测量和解释？
* 是不是有未完成的代码，如果有是不是可以删除或标记为“TODO”

## 测试
* 代码是不是可测试？比如，不要添加太多依赖或隐藏的依赖，无法初始化的对象。
* 测试代码是否充分？至少要达到你认可以覆盖率。
* 单元测试是不是测试了代码真正要实现的功能？
* 数组是不是测试了越界的情况？
* 有没有测试可以被现在的API所替代？

# 优化
上面的清单只是一个起点，你需要根据你的情况进行优化。
* 加入团队的使用的语言的特别检查。
* 对近期的issues进行整理，对特出问题加入清单
* 对团队已经不再容易犯的毛病，可以从清单中移除，以节省时间。

